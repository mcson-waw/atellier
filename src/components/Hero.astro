---
/**
 * Hero Section Component
 * Full-screen hero with parallax background and animated content
 */

interface Props {
  title: string;
  subtitle?: string;
  backgroundImage?: string;
  ctaText?: string;
  ctaHref?: string;
}

const {
  title,
  subtitle,
  backgroundImage = '/images/hero-forest.jpg',
  ctaText = 'Begin Your Journey',
  ctaHref = '#why',
} = Astro.props;
---

<section
  id="hero"
  class="relative min-h-screen flex items-center justify-center overflow-hidden"
  data-hero
>
  <!-- Parallax Background -->
  <div class="absolute inset-0 z-0">
    <div
      class="absolute inset-0 w-full h-[120%] -top-[10%]"
      data-hero-bg
    >
      <img
        src={backgroundImage}
        alt=""
        class="w-full h-full object-cover"
        loading="eager"
      />
    </div>
    
    <!-- Gradient Overlays -->
    <div class="absolute inset-0 bg-gradient-to-b from-forest-900/40 via-forest-900/20 to-forest-900/60"></div>
    <div class="absolute inset-0 bg-gradient-to-r from-forest-900/30 via-transparent to-forest-900/30"></div>
  </div>

  <!-- Ambient Floating Elements -->
  <div class="absolute inset-0 z-10 pointer-events-none overflow-hidden">
    <!-- Soft glowing orbs -->
    <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-moss/20 rounded-full blur-3xl blob-animate-1 glow-pulse"></div>
    <div class="absolute bottom-1/3 right-1/4 w-96 h-96 bg-forest-400/10 rounded-full blur-3xl blob-animate-2"></div>
    <div class="absolute top-1/2 right-1/3 w-48 h-48 bg-moss-light/15 rounded-full blur-2xl mist-float"></div>
  </div>

  <!-- Content -->
  <div class="relative z-20 container-wide text-center px-6">
    <div class="max-w-4xl mx-auto">
      <!-- Title -->
      <h1
        class="text-display md:text-display-lg lg:text-display-xl text-mist mb-4 md:mb-6 leading-tight px-2"
        data-hero-title
      >
        {title}
      </h1>

      <!-- Subtitle -->
      {subtitle && (
        <p
          class="text-body md:text-body-lg lg:text-heading text-forest-100/90 mb-6 md:mb-10 max-w-xl md:max-w-2xl mx-auto font-light px-2"
          data-hero-subtitle
        >
          {subtitle}
        </p>
      )}

      <!-- CTA Button -->
      <div data-hero-button>
        <a
          href={ctaHref}
          class="btn-primary bg-mist/10 backdrop-blur-sm text-mist border border-mist/30 hover:bg-mist/20 hover:border-mist/50"
        >
          {ctaText}
        </a>
      </div>
    </div>
  </div>

  <!-- Scroll Indicator -->
  <div
    class="absolute bottom-10 left-1/2 -translate-x-1/2 z-20"
    data-hero-scroll
  >
    <a
      href="#why"
      class="flex flex-col items-center text-mist/70 hover:text-mist transition-colors duration-300 group"
      aria-label="Scroll to content"
    >
      <span class="text-xs uppercase tracking-widest mb-3 opacity-70">Scroll</span>
      <div class="scroll-indicator">
        <svg
          class="w-6 h-10 text-mist/50"
          viewBox="0 0 24 40"
          fill="none"
          stroke="currentColor"
        >
          <rect x="1" y="1" width="22" height="38" rx="11" stroke-width="2" />
          <circle cx="12" cy="12" r="3" fill="currentColor" class="animate-bounce" />
        </svg>
      </div>
    </a>
  </div>

  <!-- Bottom Gradient Fade -->
  <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-mist to-transparent z-10"></div>
</section>

<style>
  [data-hero-bg] img {
    transform: scale(1.1);
    transition: transform 0.1s linear;
  }
</style>
